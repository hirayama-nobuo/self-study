# Git/GitHub研修

## Gitとは
ファイルの履歴管理を行うソフトウェア。  
分散バージョン管理システム(DVCS)の1つで、最も利用されているDVCSである。 
Gitをサポートしているホスティングサービス・ツール・開発環境が多い。   
- DVCS  
  分散型バージョン管理システム  
- コミット  
  ローカルで変更の歴史を残すこと  
- プッシュ
  変更した歴史を公開すること  
Gitでは基本的にテキストファイルを管理し、容量の大きなバイナリファイルはSubversion等のツールを使って管理することが一般的。  
Gitで管理対象外にしたいファイルについては「.gitignore」ファイルを作成し、管理しないファイルのパスを記述することで管理対象外にすることができる。  

## Gitの頻出用語
- リポジトリ
  ファイルの置き場。  
  「git init」コマンドやリポジトリをクローンする「git clone」コマンドでローカルにリポジトリを作成することが可能。  
- リビジョン
  リポジトリのファイルのある時点のファイルの履歴。  
  同義の言葉にコミットがある。  
  SourceTree等の表記では丸で示される。  
- コミットする
  リビジョンを作成すること。  
  「git status」コマンドでリポジトリの現在の変更状態を確認することができる。  
- コミットコメント
  コミットの意味を文章で表現する。  
  コミットするユーザが記載する。  
  コミットコメントには変更内容ではなく、変更の意図をできるだけ他者にわかるよう具体的に記述する。  
  JIRA等のチケット番号を記載し、紐づけることで管理をより便利に行うことができる。  
- ブランチ  
  コミットすると追加したリビジョンと現在のブランチを一緒に異動する。  
- master    
  リポジトリ作成時にデフォルトで作成されるブランチ。  
  一般的にはmasterをメインとして開発を行う。  
- remote  
  ローカルではないリポジトリ群をremoteという。  
- プッシュ  
  ローカルの変更をリモートに反映すること。  
- プル  
  リモートの変更を取り入れた上で、マージすること。  
  
## Gitの基本動作  
- git add  
  コミット対象のファイルを追加する。 
  ローカルリポジトリにファイルを新しく追加する際に実行する。  
- git commit  
  コミットする。  
  リビジョンを作る。
  ローカルリポジトリの変更の履歴を作成する際に実行する。    
- git checkout  
  対象のブランチやリビジョンをワーキングスペースとする。  
  作成したブランチやリビジョンを使用して新たにリポジトリの変更をしたい時に実行する。  
- git reset  
  チェックアウトしているブランチから対象のリビジョンに移動する。  
  ファイルのaddやコミットを行ったが、行ったaddやコミットをなかったことにしたい時に実行する。  
  リポジトリを変更前に戻すことができる。  
- git merge  
  対象のブランチと現在チェックアウトしているブランチをマージする。  
  各ブランチで行った内容を　masterに統合し一つにする際に実行する。  
- git rebase  
  作業が完了したブランチを現在チェックアウトしているブランチにコミット順に取り込むこと。  
  各ブランチで行った内容を　masterに統合し一つにする際に実行する。mergeと異なり、コミットの履歴の順番も記録することができる。  
- git init  
  現在のディレクトリにリポジトリを作成する。  
  ローカルリポジトリの内容を公開したい時、リモートリポジトリを作成する必要がある時に実行する。  
- git clone  
  git cloneの後に指定したリポジトリ名のディレクトリをローカルにクローンする。  
  リモートリポジトリの内容を自分のローカルでローカルリポジトリとして作成したい時に実行する。  
- git fetch  
  チェックアウトしているブランチのremoteの差分を取得する。  
  mergeを行ってリモートリポジトリの内容をローカルリポジトリに取り込みたくはないが、リモートリポジトリとローカルリポジトリでどこに差分があるのかを確認したい場合に実行する。  
- git pull  
  プルを行う。  
  ローカルリポジトリで変更したファイルをリモートリポジトリに上げる際に、リモートリポジトリの内容とローカルリポジトリの内容を一致させるために実行する。  
- git push  
  プッシュを行い、現在のブランチの内容をremoteに反映する。  
  ローカルリポジトリで行った変更を、リモートリポジトリにも反映する際に実行する。  

## Gitでのコミット  
出来るだけ細かい単位でコミットを行う。  
コミットコメントはコミットした内容を記載するのではなく(差分を見ることで確認ができるため)、変更を行った意図、なぜこの変更が必要なのかを記載する。  

## Git操作の注意点  
操作中は常にSourceTreeを開き、状態を常に確認する。  
リポジトリの状態がわからなくなってしまったら、リポジトリのパスに移動し、git statusで状態を確認する。  

## コンフリクトが起きた場合  
コミットグラフのファイル一覧からコンフリクトしたファイルを選択して「競合の解決」をクリックする。  
外部のマージツールである「P4Merge」を使用し、変更を入れるファイルを選択し変更内容を取り込む。  

## Issueの作成方法  
GitHubの課題管理機能。  
コミットコメントの末尾に作成したIssue番号を記載することでGitHubのコミット一覧画面、Issue画面でリンクを貼ることができる。  
- New Issueボタンをクリック(Markdownで記載可能)   
- IssueにGitHubアカウント名を記載することで、記載したアカウントにIssueの通知を飛ばすことができる。  

## Pull Request(PR)  
リポジトリ管理者にGithub上でソースコードレビュー、マージを行ってもらうための仕組み。  
リポジトリにブランチを作成しPRを行う。  
PRをマージする際はコンフリクトがない状態とし、レビュー後問題がなければMerge Pull RequestボタンをPR画面で押下する。  
コンフリクトが発生するとPRマージができないため、発生した場合はGitHubの画面上でファイルを修正する、ローカルでファイルを修正するなどの方法でコンフリクトを解決する。  

## GitHub Release  
GitHubでは管理しているソフトウェアのリリース管理を行うことができる。  


## 演習
実際にGit/GitHubに慣れるための演習を実施。  
演習ではSourceTreeを使用。  
- 上記で確認したGitの基本動作についてSourceTreeを使って、実際に操作。  
- グループワーク  
  例題のアプリを確認し、バグを見つけてIssueに登録。  
  上げたIssueについて、  
  1.ローカルでブランチ作成、コード修正を行いブランチにプッシュしてPRを作成する。  
  2.作成したPRをローカルにプルしてアプリの動作を確認した上で、コメントを記載した上でPRをマージ。  
  3.バージョンタグをつけて、修正をリリースする。  

## 研修を受講して  
Gitの基本的な用語、コマンド、SourceTreeを使ったGitHubの使い方を一から丁寧に学ぶことができる研修であった。  
座学だけでなく、実際に手を動かして作業する演習の時間も半分ほどあり、座学で確認した知識をすぐにアウトプットすることができた。  
Gitのコマンドの説明もあり、普段SourceTreeでのみ使用していたため、SourceTreeでの操作とコマンドを対応して学習することができた。  
初学者用の研修であったため、この研修での知識を復習した上で、よりスムーズに実際の開発でGitを使用できるように、追加で学習する必要がある。  

